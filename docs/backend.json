
{
  "entities": {
    "Item": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Item",
      "type": "object",
      "description": "Represents an item in the inventory.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the item."
        },
        "itemName": {
          "type": "string",
          "description": "The name of the item."
        },
        "category": {
          "type": "string",
          "description": "The category of the item (Aluminium, Glass, Accessories)."
        },
        "quantity": {
          "type": "number",
          "description": "The quantity of the item in stock."
        },
        "unit": {
          "type": "string",
          "description": "The unit of measurement for the item (Kg, Feet, Piece)."
        },
        "purchasePrice": {
          "type": "number",
          "description": "The purchase price of the item."
        },
        "salePrice": {
          "type": "number",
          "description": "The sale price of the item."
        },
        "thickness": {
          "type": "string",
          "description": "The thickness of the item."
        }
      },
      "required": [
        "id",
        "itemName",
        "category",
        "quantity",
        "unit",
        "purchasePrice",
        "salePrice"
      ]
    },
    "Customer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Customer",
      "type": "object",
      "description": "Represents a customer.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the customer."
        },
        "customerName": {
          "type": "string",
          "description": "The name of the customer."
        },
        "phoneNumber": {
          "type": "string",
          "description": "The phone number of the customer."
        },
        "address": {
          "type": "string",
          "description": "The address of the customer."
        },
        "openingBalance": {
          "type": "number",
          "description": "The customer's opening balance."
        },
        "balanceType": {
          "type": "string",
          "enum": [
            "debit",
            "credit"
          ],
          "description": "The type of opening balance (debit or credit)."
        }
      },
      "required": [
        "id",
        "customerName",
        "phoneNumber",
        "address"
      ]
    },
    "Vendor": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Vendor",
      "type": "object",
      "description": "Represents a vendor or supplier.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the vendor."
        },
        "name": {
          "type": "string",
          "description": "The name of the vendor."
        },
        "phone": {
          "type": "string",
          "description": "The phone number of the vendor."
        },
        "address": {
          "type": "string",
          "description": "The address of the vendor."
        },
        "openingBalance": {
          "type": "number",
          "description": "The vendor's opening balance."
        },
        "balanceType": {
          "type": "string",
          "enum": [
            "debit",
            "credit"
          ],
          "description": "The type of opening balance (debit or credit)."
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "Sale": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Sale",
      "type": "object",
      "description": "Represents a sales transaction.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the sale."
        },
        "customerId": {
          "type": "string",
          "description": "Reference to Customer. (Relationship: Customer 1:N Sale)"
        },
        "itemId": {
          "type": "string",
          "description": "Reference to Item. (Relationship: Item 1:N Sale)"
        },
        "quantity": {
          "type": "number",
          "description": "The quantity of the item sold in this transaction."
        },
        "totalAmount": {
          "type": "number",
          "description": "The total amount of the sale."
        },
        "saleDate": {
          "type": "string",
          "description": "The date of the sale.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "customerId",
        "itemId",
        "quantity",
        "totalAmount",
        "saleDate"
      ]
    },
    "Expense": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Expense",
      "type": "object",
      "description": "Represents an expense.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the expense."
        },
        "expenseTitle": {
          "type": "string",
          "description": "The title of the expense."
        },
        "amount": {
          "type": "number",
          "description": "The amount of the expense."
        },
        "date": {
          "type": "string",
          "description": "The date of the expense.",
          "format": "date-time"
        },
        "category": {
          "type": "string",
          "description": "The category of the expense (Labour, Transport, Electricity, Other)."
        }
      },
      "required": [
        "id",
        "expenseTitle",
        "amount",
        "date",
        "category"
      ]
    },
    "Estimate": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Estimate",
      "type": "object",
      "description": "Represents a cost estimate or quotation for a customer.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the estimate."
        },
        "customerId": {
          "type": "string",
          "description": "Reference to the Customer this estimate is for."
        },
        "customerName": {
          "type": "string",
          "description": "The name of the customer."
        },
        "items": {
          "type": "array",
          "description": "A list of items included in the estimate.",
          "items": {
            "$ref": "#/backend/entities/SaleItem"
          }
        },
        "total": {
          "type": "number",
          "description": "The total estimated amount."
        },
        "date": {
          "type": "string",
          "description": "The date the estimate was created.",
          "format": "date-time"
        },
        "discount": {
          "type": "number",
          "description": "Overall discount percentage applied to the estimate."
        }
      },
      "required": [
        "id",
        "customerId",
        "customerName",
        "items",
        "total",
        "date"
      ]
    },
    "SaleItem": {
      "title": "Sale Item",
      "type": "object",
      "description": "Represents an item within a sale or estimate.",
      "properties": {
        "itemId": {
          "type": "string"
        },
        "itemName": {
          "type": "string"
        },
        "quantity": {
          "type": "number"
        },
        "price": {
          "type": "number"
        },
        "color": {
          "type": "string"
        },
        "weight": {
          "type": "number"
        },
        "thickness": {
          "type": "string"
        },
        "feet": {
          "type": "number"
        },
        "discount": {
          "type": "number"
        }
      },
      "required": [
        "itemId",
        "itemName",
        "quantity",
        "price",
        "color",
        "thickness"
      ]
    },
    "Counter": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "Counter",
        "type": "object",
        "description": "A distributed counter for generating sequential IDs.",
        "properties": {
            "currentNumber": {
                "type": "number",
                "description": "The last used number for the sequence."
            }
        },
        "required": ["currentNumber"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/items/{itemId}",
        "definition": {
          "entityName": "item",
          "schema": {
            "$ref": "#/backend/entities/Item"
          },
          "description": "Stores item information."
        }
      },
      {
        "path": "/customers/{customerId}",
        "definition": {
          "entityName": "customer",
          "schema": {
            "$ref": "#/backend/entities/Customer"
          },
          "description": "Stores customer information."
        }
      },
      {
        "path": "/vendors/{vendorId}",
        "definition": {
          "entityName": "vendor",
          "schema": {
            "$ref": "#/backend/entities/Vendor"
          },
          "description": "Stores vendor information."
        }
      },
      {
        "path": "/sales/{saleId}",
        "definition": {
          "entityName": "sale",
          "schema": {
            "$ref": "#/backend/entities/Sale"
          },
          "description": "Stores sales transaction information."
        }
      },
      {
        "path": "/expenses/{expenseId}",
        "definition": {
          "entityName": "expense",
          "schema": {
            "$ref": "#/backend/entities/Expense"
          },
          "description": "Stores expense information."
        }
      },
      {
        "path": "/estimates/{estimateId}",
        "definition": {
          "entityName": "estimate",
          "schema": {
            "$ref": "#/backend/entities/Estimate"
          },
          "description": "Stores estimate/quotation information."
        }
      },
      {
        "path": "/counters/{counterId}",
        "definition": {
          "entityName": "counter",
          "schema": {
            "$ref": "#/backend/entities/Counter"
          },
          "description": "Stores distributed counters for sequential IDs."
        }
      }
    ]
  }
}

    